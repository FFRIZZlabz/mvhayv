<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baby Girl!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Pacifico&display=swap"
        rel="stylesheet">
</head>

<!-- <body>
    <audio id="myAudio" loop>
        <source src="mvsong.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <button id="mybutton" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: black; color: white; font-size: 2rem; text-align: center;" 
        onclick="document.getElementById('myAudio').play();  navigate(1); document.getElementById('mybutton').style.opacity = '0';">▶️</button>
</body> -->

<style>
    .pacifico-regular {
        font-family: "Pacifico", cursive;
        font-weight: 400;
        font-style: normal;
    }

    .kanit-thin {
        font-family: "Kanit", sans-serif;
        font-weight: 100;
        font-style: normal;
    }

    .kanit-extralight {
        font-family: "Kanit", sans-serif;
        font-weight: 200;
        font-style: normal;
    }

    .kanit-light {
        font-family: "Kanit", sans-serif;
        font-weight: 300;
        font-style: normal;
    }

    .kanit-regular {
        font-family: "Kanit", sans-serif;
        font-weight: 400;
        font-style: normal;
    }

    .kanit-medium {
        font-family: "Kanit", sans-serif;
        font-weight: 500;
        font-style: normal;
    }

    .kanit-semibold {
        font-family: "Kanit", sans-serif;
        font-weight: 600;
        font-style: normal;
    }

    .kanit-bold {
        font-family: "Kanit", sans-serif;
        font-weight: 700;
        font-style: normal;
    }

    .kanit-extrabold {
        font-family: "Kanit", sans-serif;
        font-weight: 800;
        font-style: normal;
    }

    .kanit-black {
        font-family: "Kanit", sans-serif;
        font-weight: 900;
        font-style: normal;
    }

    .kanit-thin-italic {
        font-family: "Kanit", sans-serif;
        font-weight: 100;
        font-style: italic;
    }

    .kanit-extralight-italic {
        font-family: "Kanit", sans-serif;
        font-weight: 200;
        font-style: italic;
    }

    .kanit-light-italic {
        font-family: "Kanit", sans-serif;
        font-weight: 300;
        font-style: italic;
    }

    .kanit-regular-italic {
        font-family: "Kanit", sans-serif;
        font-weight: 400;
        font-style: italic;
    }

    .kanit-medium-italic {
        font-family: "Kanit", sans-serif;
        font-weight: 500;
        font-style: italic;
    }

    .kanit-semibold-italic {
        font-family: "Kanit", sans-serif;
        font-weight: 600;
        font-style: italic;
    }

    .kanit-bold-italic {
        font-family: "Kanit", sans-serif;
        font-weight: 700;
        font-style: italic;
    }

    .kanit-extrabold-italic {
        font-family: "Kanit", sans-serif;
        font-weight: 800;
        font-style: italic;
    }

    .kanit-black-italic {
        font-family: "Kanit", sans-serif;
        font-weight: 900;
        font-style: italic;
    }


    body,
    html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        /* Prevent any scroll bars */
        font-family: Kanit, Arial, sans-serif;
        font-size: 1.5rem;
        color: white;
        background-color: rgb(0, 0, 0);
    }

    .slider {
        position: relative;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
        /* Hide anything outside the viewport */
    }

    .slide {
        position: absolute;
        top: 0;
        left: 0;
        /* Start offscreen when not active */
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        text-align: center;
        transition: transform 0.5s ease;
        /* Smooth transition for sliding effect */
        transform: translateX(100%);
        /* Start right of the viewport */
        backface-visibility: hidden;
        /* Improve performance during animations */
    }

    .visible {
        transform: translateX(0);
        /* Bring into view */
    }

    .hidden-right {
        transform: translateX(100%);
        /* Hide to the right */
    }

    .hidden-left {
        transform: translateX(-100%);
        /* Hide to the left */
    }


    .slide img {
        max-width: 80%;
        /* Reduce width for better layout */
        max-height: 40vh;
        /* Adjust height to leave space for text */
        object-fit: contain;
        margin-bottom: 20px;
        /* Space between image and first text */
    }

    .animated {
        opacity: 1;
        /* Initially visible */
        transition: opacity 2s;
        /* Smooth fade out */
        width: 100%;
        padding: 0 20px;
        bottom: 20%;
        /* Padding for better text display */
        box-sizing: border-box;
        /* Include padding in width calculation */
        text-align: center;
    }

    .animated-second {
        opacity: 0;
        /* Start hidden */
        position: absolute;
        /* Positioning it absolutely to manage layout independently */
        top: 10%;
        /* Position at the bottom of the slide */
        width: 90%;
        padding: 15px;
        /* Padding around text */
        box-sizing: border-box;
        text-align: center;
        font-size: 1rem;
        /* Smaller font size */
        white-space: normal;
        /* Allow text wrapping */
        visibility: hidden;
        /* Hide until animation starts */
        transition: visibility 0s 2s, opacity 0s 2s;
        /* Delay visibility and opacity transitions */
    }

    .an_pic {
        z-index: 1;
        transition: opacity 2s, transform 2s;
        opacity: 1;
        transform: scale(1);
    }


    .an_pic.visible {
        z-index: 1;
        opacity: 1;
        /* Fully visible */
        transform: scale(1);
        /* Scale to full size */

    }


    .visible .animated {
        z-index: 9999;
        opacity: 1;
    }

    button {
        position: fixed;
        background-color: #fff;
        border: none;
        border-radius: 50%;
        width: 44px;
        height: 44px;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        z-index: 1000;
        /* Ensure it's clear that these are clickable */
    }


    button:focus {
        outline: none;
    }

    /* Adjustments for the left and right arrows */
    .left-arrow,
    .right-arrow {
        position: fixed;
        /* Fixed position */
        bottom: 20px;
        /* Move towards the bottom */
        z-index: 1000;
        /* Ensure it's above the slides */
        font-size: 30px;
        /* Increase size for better visibility */
        color: white;
        /* Change color to white for visibility */
        background-color: rgba(0, 0, 0, 0.5);
        /* Semi-transparent background */
        padding: 10px;
        /* Padding for larger click area */
        cursor: pointer;
    }

    .left-arrow {
        left: 10px;
        /* Left side of the screen */
        bottom: 20px;
        /* Move towards the bottom */
    }

    .right-arrow {
        right: 10px;
        /* Right side of the screen */
        bottom: 20px;
        /* Move towards the bottom */
    }
</style>
</head>

</html>

<body>

    <audio id="myAudio" loop>
        <source src="mvsong.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <audio id="myAudio" loop>
        <source src="mvsong.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <button id="mybutton"
        style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: black; color: white; font-size: 2rem; text-align: center;"
        onclick="playAndNext()">▶️</button>
    <div class="slider">
        <div class="slide visible" style="background-color: rgb(0, 0, 0);"> <!-- This is the first slide -->
            <br><br>Click play to start
        </div>
        <div class="slide" style="background-color: rgb(0, 0, 0);">
            <img class="an_pic" src="tree.png" alt="Introduction Image">
            <p class="animated" id="animated-text" style="margin-top: 20%;">To my awesome girlfriend, Mvhayv</p>
            <p class="animated-second" id="additional-text">I know we got off to a rocky start, but I made this to show
                you how special you are to me, no matter what. Your presence brightens my days, and I cherish every
                moment we share.</p>
        </div>
        <div class="slide" style="background-color: rgb(0, 0, 0);">
            <img class="an_pic" src="roses.png" alt="Apology Image">
            <p class="animated" id="animated-text" style="margin-top: 20%;">Sorry</p>
            <p class="animated-second" id="additional-text">I want you to know that I'm not perfect, and I realize I've
                said and done things that may have hurt you. I am deeply sorry for any sadness I've caused. Please know
                that I love you deeply, and I am committed to doing better for us.</p>
        </div>
        <div class="slide" style="background-color: rgb(0, 0, 0);">
            <img class="an_pic" src="sunset.png" alt="Together Image">
            <p class="animated" id="animated-text" style="margin-top: 20%;">When I'm with You...</p>
            <p class="animated-second" id="additional-text">When I'm not with you, nothing seems to matter. For the
                first time in a long time, I can honestly say that I am happier with someone than without. You've brought
                new light into my life, and I look forward to every new day with you.</p>
        </div>
        <div class="slide" style="background-color: rgb(0, 0, 0);">
            <img class="an_pic" src="darkforest.png" alt="Future Plans">
            <p class="animated" id="animated-text" style="margin-top: 20%;">Looking Ahead</p>
            <p class="animated-second" id="additional-text">Thinking about our future excites me more than words can
                express. I see us building something wonderful together, learning from each other, growing in love, and
                supporting each other through life's ups and downs. Here's to our upcoming adventures and the many joys
                we'll discover together!</p>
        </div>
        <div class="slide" style="background-color: rgb(0, 0, 0);">
            <img class="an_pic" src="moonset.png" alt="Deep Love and Commitment">
            <p class="animated" id="animated-text" style="margin-top: 20%;">With all my love, Ryan (Daddy)</p>
            <p class="animated-second" id="additional-text">Every day with you is a blessing. I cherish you more than I
                can say, and I'm grateful for every laugh, every hug, and every lesson we share. Thank you for being
                you, and for letting me be a part of your life.</p>
        </div>
        <div class="slide" style="background-color: rgb(0, 0, 0);">
            <p class="animated" id="animated-text">Love You Bunni 😘</p>
        </div>
    </div>
    <button class="left-arrow" onclick="navigate(-1)">&#10094;</button>
    <button class="right-arrow" onclick="navigate(1)">&#10095;</button>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const slides = Array.from(document.querySelectorAll('.slide'));
            let currentIndex = 0;
            let activeAnimationInterval = null; // Track the active interval for clearing

            // Function to animate text character by character
            function animateText(textElement) {
                const text = textElement.getAttribute('data-text');
                textElement.textContent = '';
                let i = 0;
                let interval = setInterval(() => {
                    if (i < text.length) {
                        textElement.textContent += text[i++];
                    } else {
                        clearInterval(interval);
                    }
                }, 50); // Adjust typing speed
            }

            // Reset all slide states before updating visibility
            function resetSlideState(slide) {
                const firstText = slide.querySelector('.animated');
                const secondText = slide.querySelector('.animated-second');
                const image = slide.querySelector('.an_pic');

                // Reset styles to initial states
                image.style.opacity = '1';
                image.style.transform = 'scale(1)'; // Ensure image is scaled back if transformed
                firstText.style.opacity = '1';
                secondText.style.opacity = '0';
                secondText.style.visibility = 'hidden';
            }

            // Handle animations for the currently visible slide
            function handleSlideAnimations(slide) {
                if (!slide.classList.contains('visible')) return;

                const firstText = slide.querySelector('.animated');
                const secondText = slide.querySelector('.animated-second');
                const image = slide.querySelector('.an_pic');

                setTimeout(() => {
                    // Ensure this runs only if the slide is still visible
                    if (slide.classList.contains('visible')) {
                        image.style.opacity = '0';
                        firstText.style.opacity = '0';
                        secondText.style.visibility = 'visible';
                        secondText.style.opacity = '1';
                        animateText(secondText);
                    }
                }, 2500); // Delay before starting second text animation
            }

            function updateSlideVisibility() {
                slides.forEach((slide, index) => {
                    // resetSlideState(slide); // Reset the state for all slides first
                    slide.classList.remove('visible', 'hidden-right', 'hidden-left'); // Remove all visibility and position classes
                    // Apply directional classes for slides that are not currently selected
                    slide.classList.add(index < currentIndex ? 'hidden-left' : index > currentIndex ? 'hidden-right' : 'visible');
                    handleSlideAnimations(slide);

                });
                 
            }

            function resetSlideState(slide) {
                const firstText = slide.querySelector('.animated');
                const secondText = slide.querySelector('.animated-second');
                const image = slide.querySelector('.an_pic');

                // Reset opacity and visibility to initial state
                image.style.opacity = '1';
                firstText.style.opacity = '1';
                secondText.style.opacity = '0';
                secondText.style.visibility = 'hidden';
            }

            function navigate(direction) {
                const potentialIndex = currentIndex + direction;
                if (potentialIndex >= 0 && potentialIndex < slides.length) {
                    currentIndex = potentialIndex;
                    updateSlideVisibility();
                }
            }
            // Play audio and move to next slide when the play button is clicked
            document.getElementById('mybutton').addEventListener('click', function () {
                document.getElementById('myAudio').play();
                this.style.display = 'none'; // Hide play button after clicked
                navigate(1); // Move to the next slide
            });

            // Set initial states and attributes for text elements
            slides.forEach(slide => {
                const textElements = slide.querySelectorAll('.animated-second');
                textElements.forEach(text => {
                    text.setAttribute('data-text', text.textContent); // Store the actual text
                });
            });

            document.querySelector('.right-arrow').addEventListener('click', () => navigate(1));
            document.querySelector('.left-arrow').addEventListener('click', () => navigate(-1));


            updateSlideVisibility(); // Initial setup
        });

    </script>

</body>

</body>

</html>